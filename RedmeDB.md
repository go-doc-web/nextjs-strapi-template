# ๐ Next.js + Strapi + PostgreSQL (Docker)

ะฆะตะน ะฟัะพัะบั ะฒะธะบะพัะธััะพะฒัั **Next.js**, **Strapi (CMS)** ัะฐ **PostgreSQL** ั **Docker** ะดะปั ัะพะทัะพะฑะบะธ ัะฐ ะฟัะพะดะฐะบัะตะฝั.

---

## ๐ฅ ะะฐะฟััะบ ั ัะตะถะธะผั ัะพะทัะพะฑะบะธ (Dev)

1. **ะะฐะฟััะบะฐัะผะพ ะฑะฐะทั ะดะฐะฝะธั (PostgreSQL)**

   ```sh
   yarn dev:db
   ```

   > **ะฉะพ ัะพะฑะธัั ัั ะบะพะผะฐะฝะดะฐ?**
   >
   > - ะกัะฐัััั ะฑะฐะทั ะดะฐะฝะธั PostgreSQL ะฒ Docker.
   > - ะะธะบะพัะธััะพะฒัั ัะฐะนะป `docker-compose.dev.yml`.

2. **ะะฐะฟััะบะฐัะผะพ CMS (Strapi)**

   ```sh
   yarn dev:cms
   ```

   > **ะฉะพ ัะพะฑะธัั ัั ะบะพะผะฐะฝะดะฐ?**
   >
   > - ะะตัะตัะพะดะธัั ั ะฟะฐะฟะบั `backend` ัะฐ ะทะฐะฟััะบะฐั `yarn develop`.

3. **ะะฐะฟััะบะฐัะผะพ ััะพะฝัะตะฝะด (Next.js)**
   ```sh
   yarn dev:nextjs
   ```
   > **ะฉะพ ัะพะฑะธัั ัั ะบะพะผะฐะฝะดะฐ?**
   >
   > - ะะตัะตัะพะดะธัั ั ะฟะฐะฟะบั `frontend` ัะฐ ะทะฐะฟััะบะฐั `yarn dev`.

---

## ๐ ะะฐะฟััะบ ั ะฟัะพะดะฐะบัะตะฝั (Prod)

1. **ะะฐะฟััะบะฐัะผะพ ะฒัั ัะตัะฒััะธ ะดะปั ะฟัะพะดะฐะบัะตะฝั**

   ```sh
   yarn start:prod
   ```

   > - ะะฐะฟััะบะฐั **ะฑะฐะทั ะดะฐะฝะธั**, **Strapi**, **Next.js** ั **Docker** (ัะฐะนะป `docker-compose.prod.yml`).

2. **ะัะฟะธะฝััะผะพ ะฒัั ัะตัะฒััะธ**

   ```sh
   yarn stop:prod
   ```

3. **ะะตัะตะทะฐะฟััะบะฐัะผะพ ะฒัั ัะตัะฒััะธ**
   ```sh
   yarn restart:prod
   ```

---

## ๐ ะะตััะฒะฐะฝะฝั ะฑะฐะทะพั ะดะฐะฝะธั (PostgreSQL)

1. **ะะตะบะฐะฟ ะฑะฐะทะธ ะดะฐะฝะธั**

   ```sh
   yarn db:backup
   ```

   > - ะะพะฑะธัั ะดะฐะผะฟ ะฑะฐะทะธ (`pg_dump`) ั ัะฐะนะป `database_backup.sql`.

2. **ะัะดะฝะพะฒะปะตะฝะฝั ะฑะฐะทะธ ะดะฐะฝะธั**

   ```sh
   yarn db:restore
   ```

   > - ะัะดะฝะพะฒะปัั ะฑะฐะทั (`psql`) ะท ัะฐะนะปั `database_backup.sql`.

3. **ะกัะฐััััะผะพ ััะปัะบะธ ะฑะฐะทั ะดะฐะฝะธั**

   ```sh
   yarn db:start
   ```

4. **ะัะฟะธะฝััะผะพ ััะปัะบะธ ะฑะฐะทั ะดะฐะฝะธั**

   ```sh
   yarn db:stop
   ```

5. **ะะตัะตะทะฐะฟััะบะฐัะผะพ ััะปัะบะธ ะฑะฐะทั ะดะฐะฝะธั**
   ```sh
   yarn db:restart
   ```

---

## ๐ ะกัััะบัััะฐ ะฟัะพัะบัั

```
๐ฆ project-root
 โฃ ๐ backend      # Strapi (CMS)
 โฃ ๐ frontend     # Next.js (React)
 โฃ ๐ package.json # ะะพะปะพะฒะฝะธะน ัะฐะนะป ัะท ะบะพะผะฐะฝะดะฐะผะธ (scripts)
 โฃ ๐ docker-compose.dev.yml  # Docker-ะบะพะฝััะณ ะดะปั ัะพะทัะพะฑะบะธ
 โฃ ๐ docker-compose.prod.yml # Docker-ะบะพะฝััะณ ะดะปั ะฟัะพะดะฐะบัะตะฝั
 โฃ ๐ database_backup.sql      # ะคะฐะนะป ะฑะตะบะฐะฟั ะฑะฐะทะธ
 โ ๐ README.md   # ะะพะบัะผะตะฝัะฐััั
```

---

## ๐ ะะฐะถะปะธะฒั ะฝะพัะฐัะบะธ

- ะัั ัะตัะฒััะธ ะทะฐะฟััะบะฐััััั ัะตัะตะท **Docker**.
- Strapi ะฟัะฐััั ะฒ ัะตะถะธะผั `develop`, ัะพะฑ ะดะพะทะฒะพะปะธัะธ ะทะผัะฝะธ ะฑะตะท ะฟะตัะตะทะฐะฟััะบั.
- **ะะตัะตะด ะฟััะตะผ ั ะฟัะพะดะฐะบัะตะฝ ะะ ะทะฐะฑัะฒะฐะนัะต ัะพะฑะธัะธ ะฑะตะบะฐะฟ ะฑะฐะทะธ (`yarn db:backup`).**

---

## ๐ค ะะฒัะพั

**ะะปะตะณ ะัะฑััะบะธะน**  
โ๏ธ `oleh.hubskiy@bndigital.co`

```

---

### ๐ฅ **ะฉะพ ะผะธ ะทัะพะฑะธะปะธ?**
โ **ะงััะบะฐ ััััะบัััะฐ ะดะพะบัะผะตะฝัะฐััั**
โ **ะะพััะฝะตะฝะฝั ะบะพะผะฐะฝะด**
โ **ะัะธะบะปะฐะดะธ ะทะฐะฟััะบั**
โ **ะะพัะธัะฝั ะฝะพัะฐัะบะธ**

ะะพัะพะฒะพ! ๐
```
